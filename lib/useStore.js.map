{"version":3,"file":"useStore.js","sourceRoot":"","sources":["../src/useStore.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,QAAQ,EAAE,SAAS,EAAE,MAAM,OAAO,CAAC;AAC5C,MAAM,CAAC,IAAI,KAAK,GAAQ;IACtB,EAAE,EAAE,CAAC,EAAE,KAAK,EAAE,SAAS,EAAE,IAAI,EAAE,SAAS,EAAE,EAAE,EAAE,IAAI,CAAC,GAAG,EAAE,CAAC,QAAQ,EAAE,EAAE,CAAC;CACvE,CAAC;AACF,IAAI,SAAS,GAA0B,EAAE,CAAC;AAE1C,gDAAgD;AAChD,MAAM,UAAU,QAAQ,CAAC,GAAsC;IAC7D,IAAI,OAAO,GAAG,KAAK,QAAQ,IAAI,GAAG,KAAK,IAAI,EAAE;QAC3C,KAAK,GAAG,GAAG,CAAC;KACb;SAAM;QACL,KAAK,GAAG,GAAG,CAAC,KAAK,CAAC,CAAC;KACpB;IACD,KAAK,GAAG,GAAG,CAAC;IACZ,SAAS,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;AACnC,CAAC;AAED,MAAM,UAAU,QAAQ;IACtB,yBAAY,KAAK,EAAG;AACtB,CAAC;AAED,sBAAsB;AACtB,yBAAyB;AACzB,KAAK;AAEL,MAAM,CAAC,OAAO,UAAU,QAAQ;IAC9B,MAAM,QAAQ,GAAG,QAAQ,EAAO,CAAC,CAAC,CAAC,CAAC;IACpC,IAAI,KAAK,GAAE,CAAC,CAAC;IACb,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;IACnB,SAAS,CAAC,GAAG,EAAE;QACb,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QACzB,OAAO,GAAG,EAAE,CAAC,KAAK,CAAC,SAAS,GAAG,SAAS,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,KAAK,QAAQ,CAAC,CAAC,CAAC;IAC1E,CAAC,EAAE,EAAE,CAAC,CAAC;IACP,OAAO,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;AAC3B,CAAC","sourcesContent":["import { useState, useEffect } from \"react\";\r\nexport let store: any = {\r\n  ls: [{ title: \"card1.0\", body: \"body1.0\", id: Date.now().toString() }],\r\n};\r\nlet listeners: React.Dispatch<any>[] = [];\r\n\r\n// setStore(store => ({...store, isFoo: false}))\r\nexport function setStore(val: object | ((store: any) => object)) {\r\n  if (typeof val === \"object\" && val !== null) {\r\n    store = val;\r\n  } else {\r\n    store = val(store);\r\n  }\r\n  store = val;\r\n  listeners.forEach((l) => l(val));\r\n}\r\n\r\nexport function getStore() {\r\n  return { ...store };\r\n}\r\n\r\n// setStore(store => {\r\n//     return {...store }\r\n// })\r\n\r\nexport default function useStore() {\r\n  const listener = useState<any>()[1];\r\n  var ezYpZ= 5;\r\n  console.log(ezYpZ);\r\n  useEffect(() => {\r\n    listeners.push(listener);\r\n    return () => void (listeners = listeners.filter((l) => l === listener));   \r\n  }, []);\r\n  return [store, setStore];\r\n}\r\n"]}